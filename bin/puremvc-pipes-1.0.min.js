(function(e){null==e&&(e=window);e.org||(puremvc.define({name:"org.puremvc.js.multicore.utilities.pipes.messages.PipeMessage"},{type:null,header:null,body:null,priority:null,getType:function(){return this.type},setType:function(a){this.type=a},getHeader:function(){return this.header},setHeader:function(a){this.header=a},getBody:function(){return this.body},setBody:function(a){this.body=a},getPriority:function(){return this.priority},setPriority:function(a){this.priority=a}},{}),puremvc.define({name:"org.puremvc.js.multicore.utilities.pipes.messages.Message",
parent:org.puremvc.js.multicore.utilities.pipes.messages.PipeMessage,constructor:function(a){if(a)this.type=a.type,this.header=a.header,this.body=a.body,this.priority=a.priority}},{},{PRIORITY_HIGH:1,PRIORITY_MED:5,PRIORITY_LOW:10,BASE:"http://puremvc.org/namespaces/pipes/messages/",NORMAL:"http://puremvc.org/namespaces/pipes/messages/normal/"}),puremvc.define({name:"org.puremvc.js.multicore.utilities.pipes.messages.FilterControlMessage",parent:org.puremvc.js.multicore.utilities.pipes.messages.Message,
constructor:function(a){if(a)this.type=a.type,this.name=a.name,this.filter=a.filter,this.params=a.params}},{name:null,filter:null,params:null},{BASE:org.puremvc.js.multicore.utilities.pipes.messages.Message.BASE+"filter-control/",SET_PARAMS:org.puremvc.js.multicore.utilities.pipes.messages.Message.BASE+"setparams",SET_FILTER:org.puremvc.js.multicore.utilities.pipes.messages.Message.BASE+"setfilter",BYPASS:org.puremvc.js.multicore.utilities.pipes.messages.Message.BASE+"bypass",FILTER:org.puremvc.js.multicore.utilities.pipes.messages.Message.BASE+
"filter"}),puremvc.define({name:"org.puremvc.js.multicore.utilities.pipes.messages.QueueControlMessage",parent:org.puremvc.js.multicore.utilities.pipes.messages.Message,constructor:function(a){if(a)this.type=a.type}},{},{BASE:org.puremvc.js.multicore.utilities.pipes.messages.Message.BASE+"/queue/",FLUSH:org.puremvc.js.multicore.utilities.pipes.messages.Message.BASE+"flush",SORT:org.puremvc.js.multicore.utilities.pipes.messages.Message.BASE+"sort",FIFO:org.puremvc.js.multicore.utilities.pipes.messages.Message.BASE+
"fifo"}),puremvc.define({name:"org.puremvc.js.multicore.utilities.pipes.plumbing.PipeFitting"},{connect:function(){},disconnect:function(){},write:function(){}},{NAME:"PipeAware"}),puremvc.define({name:"org.puremvc.js.multicore.utilities.pipes.plumbing.PipeListener",parent:org.puremvc.js.multicore.utilities.pipes.plumbing.PipeFitting,constructor:function(a){if(a)this.context=a.context,this.listener=a.listener}},{context:null,listener:null,connect:function(){return!1},disconnect:function(){return null},
write:function(a){this.listener.apply(this.context,[a]);return!0}},{NAME:"PipeAware"}),puremvc.define({name:"org.puremvc.js.multicore.utilities.pipes.plumbing.Pipe",parent:org.puremvc.js.multicore.utilities.pipes.plumbing.PipeFitting,constructor:function(a){a&&this.connect(a.output)}},{output:null,connect:function(a){var b=!1;if(void 0==this.output)this.output=a,b=!0;return b},disconnect:function(){var a=this.output;this.output=void 0;return a},write:function(a){return this.output.write(a)}},{NAME:"Filter"}),
puremvc.define({name:"org.puremvc.js.multicore.utilities.pipes.plumbing.Filter",parent:org.puremvc.js.multicore.utilities.pipes.plumbing.Pipe,constructor:function(a){this.mode=org.puremvc.js.multicore.utilities.pipes.messages.FilterControlMessage.FILTER;this.params=[];this.filter=function(){};if(a)this.name=a.name,this.output=a.output,void 0!=a.filter&&this.setFilter(a.filter),null!=a.params&&this.setParams(a.params)}},{mode:null,params:null,name:null,filter:null,write:function(a){var b,c=!0;switch(a.type){case org.puremvc.js.multicore.utilities.pipes.messages.Message.NORMAL:try{b=
this.mode==org.puremvc.js.multicore.utilities.pipes.messages.FilterControlMessage.FILTER?this.applyFilter(a):a,c=this.output.write(b)}catch(d){c=!1}break;case org.puremvc.js.multicore.utilities.pipes.messages.FilterControlMessage.SET_PARAMS:this.isTarget(a)?this.setParams(a.params):c=this.output.write(b);break;case org.puremvc.js.multicore.utilities.pipes.messages.FilterControlMessage.SET_FILTER:this.isTarget(a)?this.setFilter(a.filter):c=this.output.write(b);break;case org.puremvc.js.multicore.utilities.pipes.messages.FilterControlMessage.BYPASS:case org.puremvc.js.multicore.utilities.pipes.messages.FilterControlMessage.FILTER:this.isTarget(a)?
this.mode=a.type:c=this.output.write(a);break;default:c=this.output.write(b)}return c},isTarget:function(a){return a.name==this.name},setParams:function(a){this.params=a},setFilter:function(a){this.filter=a},applyFilter:function(a){this.filter.apply(this,[a,this.params]);return a}},{NAME:"Filter"}),puremvc.define({name:"org.puremvc.js.multicore.utilities.pipes.plumbing.Junction",constructor:function(){this.inputPipes=[];this.outputPipes=[];this.pipesMap=[];this.pipeTypesMap=[]}},{inputPipes:null,
outputPipes:null,pipesMap:null,pipeTypesMap:null,registerPipe:function(a,b,c){var d=!0;if(void 0==this.pipesMap[a])switch(this.pipesMap[a]=c,this.pipeTypesMap[a]=b,b){case org.puremvc.js.multicore.utilities.pipes.plumbing.Junction.INPUT:this.inputPipes.push(a);break;case org.puremvc.js.multicore.utilities.pipes.plumbing.Junction.OUTPUT:this.outputPipes.push(a);break;default:d=!1}else d=!1;return d},hasPipe:function(a){return void 0!=this.pipesMap[a]},hasInputPipe:function(a){return this.hasPipe(a)&&
"input"==this.pipeTypesMap[a]},hasOutputPipe:function(a){return this.hasPipe(a)&&"output"==this.pipeTypesMap[a]},removePipe:function(a){if(this.hasPipe(a)){var b=[];switch(this.pipeTypesMap[a]){case org.puremvc.js.multicore.utilities.pipes.plumbing.Junction.INPUT:b=this.inputPipes;break;case org.puremvc.js.multicore.utilities.pipes.plumbing.Junction.OUTPUT:b=this.outputPipes}for(var c=0;c<b.length;c++)if(b[c]==a){b.splice(c,1);break}this.pipesMap.splice(this.pipesMap.indexOf(a),1);this.pipeTypesMap.splice(this.pipeTypesMap.indexOf(a),
1)}},retrievePipe:function(a){return this.pipesMap[a]},addPipeListener:function(a,b,c){var d=!1;this.hasInputPipe(a)&&(d=this.pipesMap[a].connect(new org.puremvc.js.multicore.utilities.pipes.plumbing.PipeListener({context:b,listener:c})));return d},sendMessage:function(a,b){var c=!1;this.hasOutputPipe(a)&&(c=this.pipesMap[a].write(b));return c}},{INPUT:"input",OUTPUT:"output"}),puremvc.define({name:"org.puremvc.js.multicore.utilities.pipes.plumbing.JunctionMediator",parent:puremvc.Mediator},{listNotificationInterests:function(){return[org.puremvc.js.multicore.utilities.pipes.plumbing.JunctionMediator.ACCEPT_INPUT_PIPE,
org.puremvc.js.multicore.utilities.pipes.plumbing.JunctionMediator.ACCEPT_OUTPUT_PIPE]},handleNotification:function(a){switch(a.getName()){case org.puremvc.js.multicore.utilities.pipes.plumbing.JunctionMediator.ACCEPT_INPUT_PIPE:var b=a.getType(),a=a.getBody();this.getJunction().registerPipe(b,org.puremvc.js.multicore.utilities.pipes.plumbing.Junction.INPUT,a)&&this.getJunction().addPipeListener(b,this,this.handlePipeMessage);break;case org.puremvc.js.multicore.utilities.pipes.plumbing.JunctionMediator.ACCEPT_OUTPUT_PIPE:b=
a.getType(),a=a.getBody(),this.getJunction().registerPipe(b,org.puremvc.js.multicore.utilities.pipes.plumbing.Junction.OUTPUT,a)}},handlePipeMessage:function(){},getJunction:function(){return this.viewComponent}},{ACCEPT_INPUT_PIPE:"acceptInputPipe",ACCEPT_OUTPUT_PIPE:"acceptOutputPipe"}),puremvc.define({name:"org.puremvc.js.multicore.utilities.pipes.plumbing.PipeAware"},{acceptInputPipe:function(){},acceptOutputPipe:function(){}},{NAME:"PipeAware"}),puremvc.define({name:"org.puremvc.js.multicore.utilities.pipes.plumbing.Queue",
parent:org.puremvc.js.multicore.utilities.pipes.plumbing.Pipe,constructor:function(){this.mode=org.puremvc.js.multicore.utilities.pipes.messages.QueueControlMessage.SORT;this.messages=[]}},{mode:null,messages:null,write:function(a){var b=!0;switch(a.getType()){case org.puremvc.js.multicore.utilities.pipes.messages.Message.NORMAL:this.store(a);break;case org.puremvc.js.multicore.utilities.pipes.messages.QueueControlMessage.FLUSH:b=this.flush();break;case org.puremvc.js.multicore.utilities.pipes.messages.QueueControlMessage.SORT:case org.puremvc.js.multicore.utilities.pipes.messages.QueueControlMessage.FIFO:this.mode=
a.getType()}return b},store:function(a){this.messages.push(a);this.mode==org.puremvc.js.multicore.utilities.pipes.messages.QueueControlMessage.SORT&&this.message.sort(sortMessageByPriority)},sortMessagesByPriority:function(a,b){var c=0;a.getPriority()<b.getPriority()?c=-1:a.getPriority()>b.getPriority()&&(c=1);return c},flush:function(){for(var a=!1,b=this.messages.shift();void 0!=b;)this.output.write(b)||(a=!1),b=this.messages.shift();return a}},{NAME:"Queue"}),puremvc.define({name:"org.puremvc.js.multicore.utilities.pipes.plumbing.TeeMerge",
parent:org.puremvc.js.multicore.utilities.pipes.plumbing.Pipe,constructor:function(a){a&&(a.input1&&this.connectInput(a.input1),a.input2&&this.connectInput(a.input2))}},{connectInput:function(a){return a.connect(this)}},{NAME:"TeeMerge"}),puremvc.define({name:"org.puremvc.js.multicore.utilities.pipes.plumbing.TeeSplit",parent:org.puremvc.js.multicore.utilities.pipes.plumbing.PipeFitting,constructor:function(a){a&&(a.output1&&this.connect(a.output1),a.output2&&this.connect(a.output2));this.outputs=
[]}},{outputs:null,connect:function(a){this.outputs.push(a);return!0},disconnect:function(){return this.outputs.pop()},disconnectFitting:function(a){for(var b,c=0;c<this.outputs.length;c++){var d=this.outputs[c];if(d==a){this.outputs.splice(c,1);b=d;break}}return b},write:function(a){for(var b=!0,c=0;c<this.outputs.length;c++)this.outputs[c].write(a)||(b=!1);return b}},{ACCEPT_INPUT_PIPE:"acceptInputPipe",ACCEPT_OUTPUT_PIPE:"acceptOutputPipe"}))})(this);